# ğŸ§  Works in Prod â€” Continuation Brief v2.0

> *A dashboard, a philosophy, and a joke that got serious.*

---

## 1ï¸âƒ£ Project Overview

**Project Name:** Works in Prod  
**Creator:** Jerusha Gray  
**Domains:**  
- **worksinprod.com** â†’ primary portfolio hub  
- **worksinprod.app** â†’ live project instance (demo environment)

**Tagline:**  
> *â€œI build systems that work â€” at least once.â€*

---

## 2ï¸âƒ£ Concept & Philosophy

**Works in Prod** is a *live metaphor for operational systems*.  
Itâ€™s a MarTech-ops observability app that simulates how tools, data, and governance perform over time â€” but itâ€™s also a statement about *resilience, clarity, and imperfection in production systems.*

At its core, it explores the tension between:
- **Ideal governance** (clean, compliant, observable)  
- **Operational reality** (messy, reactive, still somehow working)

### Conceptual spine
> The project began as a joke â€” â€œwell, it works in prodâ€ â€” but evolved into a commentary on the beauty and absurdity of systems that hold together through care and improvisation.

**The humor is not sarcasm; itâ€™s empathy.**  
Every â€œheartbeatâ€ is a nod to the operators, analysts, and marketers who keep systems alive long enough to make them better.

---

## 3ï¸âƒ£ Current Technical State

### âœ… Hosting & Repo
- Hosted on **Vercel** â†’ [https://works-in-prod.vercel.app](https://works-in-prod.vercel.app)  
- Source control â†’ [GitHub Repo](https://github.com/JerushaGray/works-in-prod)  
- Connected to **Supabase project** (via GitHub integration)  
  - Direct deployment sync  
  - Migrations and schema versioning available

### âœ… Stack Summary
| Layer | Technology | Purpose |
|--------|-------------|----------|
| **Frontend** | Next.js 16 (TypeScript) | App structure, routing, API endpoints |
| **Styling** | Tailwind CSS + PostCSS (`@tailwindcss/postcss`) | Utility-first design system |
| **Backend** | Supabase (PostgreSQL + Edge Functions) | Metrics, logs, and trigger automation |
| **Hosting** | Vercel | Build + deploy pipeline |
| **Data Flow** | Supabase Client SDK | Realtime read/write + hourly drift generation |

---

## 4ï¸âƒ£ Architecture & Governance

### ğŸ©º Heartbeat Architecture
Each hour, the `/api/heartbeat` route:
1. Queries existing tools from Supabase  
2. Applies randomized drift (â€œjitterâ€) to their metrics  
3. Inserts new rows into `metrics`  
4. Updates `tools` with the new baseline  
5. Logs the run summary in `heartbeat_log`  
6. Triggers a cleanup function to delete metrics older than 7 days

### âš™ï¸ Governance Philosophy
**Works in Prod** treats system hygiene as a metaphor for operational governance:

| Concept | System Analogue |
|----------|------------------|
| Hourly heartbeat | Continuous monitoring & reporting |
| 7-day retention policy | Governance & data minimization |
| Schema drift | Natural entropy in martech stacks |
| Cleanup triggers | Preventive governance design |
| Heartbeat logs | Evidence of operational continuity |

---

## 5ï¸âƒ£ Database Schema (Supabase)

âœ… **Supabase integrated with GitHub repo**  
â†’ versioned schema, environment-linked secrets, and potential for future migrations.

### Core Tables
```sql
-- Tools
id uuid pk
name text
category text
owner text
current_health numeric(5,2)
current_latency_ms integer
updated_at timestamptz

-- Metrics
id uuid pk
tool_id uuid fk -> tools.id
check_time timestamptz
health_score numeric(5,2)
latency_ms integer
uptime_pct numeric(5,2)
notes text

-- Heartbeat Log
id uuid pk
run_time timestamptz
updated_tools integer
inserted_metrics integer
duration_ms integer
status text
message text
```

### Views & Functions
- **`heartbeat_recent`** â†’ last 10 heartbeat runs  
- **`tool_health_trends`** â†’ aggregates avg health, latency, uptime  
- **`purge_old_metrics()`** â†’ deletes metrics > 7 days old  
- **Trigger:** `purge_old_metrics_trigger` runs after each insert into `metrics`

---

## 6ï¸âƒ£ Design System & Visual Philosophy

**Tone:** Calm Â· Competent Â· Wryly self-aware  
**Palette:**  
- Neutral grayscale base (`zinc`, `slate`, `black`)  
- Accent: success green (`#00D26A`)  
- Warnings: amber + red for state signals

**Typography:** Geist Sans + Geist Mono  
**Layout:** Modular grid, data-first, dashboard aesthetic  
**Microcopy Style:** Deadpan humor layered with empathy.

**Examples:**
- Loading â†’ â€œDeploying good intentionsâ€¦â€  
- Success â†’ â€œStable (ish).â€  
- Empty â†’ â€œSuspiciously quiet.â€  
- Footer â†’ â€œLast checked: still works in prod.â€

---

## 7ï¸âƒ£ Experience Flow

### ğŸ§­ User Flow
1. **Home:** Project headline + link to dashboard  
2. **Stack Tracker:** Lists mock MarTech tools and owners  
3. **Dashboard:** Visual health metrics & latency trends  
4. **Ops Feed:** Running heartbeat logs with timestamps + humor  
5. **About:** Ethos, author bio, links to worksinprod.com

### ğŸ“Š Interaction
- Hover for detailed metric trends (Recharts integration planned)  
- Auto-refresh every hour to simulate uptime drift  
- Ops feed updates live (via Supabase realtime subscription)  

---

## 8ï¸âƒ£ Narrative & Brand Positioning

### Narrative Arc
1. **The Joke:** It â€œworks in prodâ€ â€” ironic phrase about shaky systems that somehow hold up  
2. **The Truth:** Real systems *do* run like this â€” imperfect, patched, monitored  
3. **The Build:** A system that embraces imperfection as insight  
4. **The Reflection:** A meta-commentary on how marketing operations and human systems mirror each other

### Emotional Intent
> â€œWorks in Prodâ€ isnâ€™t cynical â€” itâ€™s compassionate. It celebrates imperfection as evidence of persistence.

---

## 9ï¸âƒ£ Next Build Steps

| Priority | Task | Description |
|-----------|------|--------------|
| ğŸ”¥ | Finalize Supabase schema | Run SQL (provided above) via integrated migration |
| ğŸ”§ | Seed mock `tools` data | HubSpot, Salesforce, Marketo, GA4, Zapier, etc. |
| ğŸ§© | Test `/api/heartbeat` | Verify insertions + logging via dashboard |
| ğŸŒ | Link worksinprod.app | Add as primary domain in Vercel |
| ğŸ–¥ï¸ | Build `/stack` UI | Basic table + sparkline view |
| âš™ï¸ | Enable Supabase Cron | Hourly POST to `/api/heartbeat` |
| ğŸ“„ | Update README + docs | Reflect Supabase integration and live URLs |

---

## ğŸ”® Future Extensions

| Concept | Description |
|----------|--------------|
| **Labs View** | Experimental MarTech metrics visualizations |
| **Real Integrations** | Optional API pulls (GA4, HubSpot, Notion) |
| **Auth Layer** | Admin access for adding tools / viewing logs |
| **Custom Webhooks** | Tie heartbeat events to Vercel analytics |
| **Portfolio Hub Sync** | Auto-update a â€œRecently Alive Systemsâ€ section on worksinprod.com |

---

## ğŸ§¬ System Philosophy Summary

| System Trait | Metaphor |
|---------------|----------|
| Self-updating | Adaptive governance |
| Drift + cleanup | Entropy + resilience |
| Logs | Memory + accountability |
| Humor | Humanity in complexity |
| â€œWorks in prodâ€ | Acceptance + clarity |

---

## ğŸ“š Source Artifacts

| File | Purpose |
|------|----------|
| `README.md` | Public overview + ethos |
| `/docs/PRD_v1.2.md` | Product requirements document |
| `/docs/index.md` | Documentation hub |
| `/docs/tone-guide.md` | Tone + style module |
| `/pages/api/heartbeat.ts` | Primary backend logic |
| `/docs/Project_Continuation_Brief_v2.md` | This document |

---

## 10ï¸âƒ£ Continuation Goal

From here, the next session should:

1. Verify Supabase schema creation via integrated migration.  
2. Seed initial `tools` table data.  
3. Test `/api/heartbeat` (expect live insertions + `ok:true` response).  
4. Begin scaffolding `/stack.tsx` for dashboard view.  
5. Link `worksinprod.app` as a primary Vercel domain.  
6. Draft content for `/about` page (tone-driven, narrative reflection).

---

## ğŸ§  Prompt for Next Chat

> â€œHereâ€™s the full continuation brief for *Works in Prod*, a live MarTech-ops observability app by Jerusha Gray.  
> The Supabase project is already integrated with the GitHub repo.  
> Please pick up from Section 10 (Continuation Goal) and help me:  
> 1ï¸âƒ£ Verify the schema via migration,  
> 2ï¸âƒ£ Seed mock tool data,  
> 3ï¸âƒ£ Test the heartbeat endpoint,  
> 4ï¸âƒ£ Begin building the stack dashboard page layout.â€
